---
import BaseLayout from '../layouts/BaseLayout.astro';

const agents = [
  {
    layer: "Prospecting",
    letter: "P",
    number: "01",
    tagline: "Find and qualify leads while you sleep",
    description: "Prospecting agents autonomously identify, research, and qualify potential buyers. They monitor buying signals, build targeted lists, and prioritize accounts — replacing hours of manual research with always-on intelligence.",
    useCases: [
      "Account identification and scoring based on ICP criteria",
      "Buying signal monitoring across job changes, funding, tech installs",
      "Automated list building with enriched contact data",
      "Lead prioritization and routing based on intent signals",
    ],
    tools: ["Relevance AI", "Clay", "Apollo", "Custom Claude agents"],
  },
  {
    layer: "Enrichment",
    letter: "E",
    number: "02",
    tagline: "Clean, enrich, and route data in real time",
    description: "Enrichment agents maintain your data infrastructure. They clean records, fill gaps, deduplicate entries, and route leads — ensuring your CRM is always accurate and your team is always working with fresh data.",
    useCases: [
      "Real-time CRM data cleaning and deduplication",
      "Contact and company enrichment from multiple sources",
      "Lead scoring and dynamic segmentation",
      "Automated data routing and assignment rules",
    ],
    tools: ["Relevance AI", "Claude Code", "Clearbit", "ZoomInfo"],
  },
  {
    layer: "Content",
    letter: "C",
    number: "03",
    tagline: "Personalized communications at machine scale",
    description: "Content agents draft, personalize, and manage communications across your GTM motion. From outbound sequences to follow-up emails to internal summaries — they produce human-quality output at a pace no team can match.",
    useCases: [
      "Personalized outbound email sequences",
      "Follow-up drafting based on meeting notes and CRM data",
      "Sales collateral and proposal generation",
      "Internal reporting summaries and Slack updates",
    ],
    tools: ["Claude", "Relevance AI", "Custom GPTs", "Jasper"],
  },
  {
    layer: "Reporting",
    letter: "R",
    number: "04",
    tagline: "Insights that come to you, not the other way around",
    description: "Reporting agents proactively surface insights, build dashboards, and flag anomalies. Instead of pulling reports manually, your analytics layer runs continuously — delivering the right data to the right person at the right time.",
    useCases: [
      "Automated pipeline and forecast reporting",
      "Anomaly detection across conversion rates and metrics",
      "Proactive Slack alerts for key metric changes",
      "Ad-hoc data analysis via natural language queries",
    ],
    tools: ["Claude Code", "Relevance AI", "Looker", "Custom scripts"],
  },
];
---

<BaseLayout title="The Agent Stack" description="The four layers of AI agents across your GTM motion — prospecting, enrichment, content, and reporting.">

  <!-- Hero: Dark mesh with dot grid + pattern lines layered -->
  <section class="section-dark bg-mesh-dark pattern-dots-dark relative overflow-hidden">
    <div class="gradient-orb-lg" style="width: 600px; height: 600px; top: -200px; right: -200px;"></div>
    <div class="gradient-orb" style="width: 300px; height: 300px; bottom: -100px; left: 10%;"></div>

    <div class="container-wide relative z-10 pt-20 pb-32 md:pt-28 md:pb-40">
      <div class="max-w-3xl animate-fade-in">
        <p class="text-label mb-6" style="color: var(--color-accent);">The Framework</p>
        <h1 class="text-display text-balance mb-6">
          The GTM<br />
          <span class="text-gradient">Agent Stack</span>
        </h1>
        <p class="text-xl md:text-2xl leading-relaxed" style="color: #b0b0b0; max-width: 640px;">
          Four layers of autonomous AI agents that cover the entire go-to-market motion. Each one replaces hours of manual work with always-on execution.
        </p>
      </div>

      <!-- SVG Flow Diagram -->
      <div class="mt-16 animate-fade-in animate-delay-3">
        <svg viewBox="0 0 900 160" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full max-w-4xl" style="overflow: visible;">
          <!-- Connection lines -->
          <line x1="195" y1="80" x2="255" y2="80" stroke="url(#lineGrad)" stroke-width="2" stroke-dasharray="6 4" opacity="0.6"/>
          <line x1="420" y1="80" x2="480" y2="80" stroke="url(#lineGrad)" stroke-width="2" stroke-dasharray="6 4" opacity="0.6"/>
          <line x1="645" y1="80" x2="705" y2="80" stroke="url(#lineGrad)" stroke-width="2" stroke-dasharray="6 4" opacity="0.6"/>

          <!-- Arrow tips -->
          <polygon points="253,75 263,80 253,85" fill="#D97706" opacity="0.6"/>
          <polygon points="478,75 488,80 478,85" fill="#D97706" opacity="0.6"/>
          <polygon points="703,75 713,80 703,85" fill="#D97706" opacity="0.6"/>

          <!-- Prospecting Node -->
          <rect x="30" y="20" width="160" height="120" rx="16" fill="#1a1a1a" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
          <rect x="30" y="20" width="160" height="120" rx="16" fill="url(#nodeGlow1)" opacity="0.3"/>
          <!-- Crosshair icon -->
          <circle cx="110" cy="58" r="14" stroke="#D97706" stroke-width="1.5" fill="none" opacity="0.8"/>
          <line x1="110" y1="40" x2="110" y2="50" stroke="#D97706" stroke-width="1.5" opacity="0.8"/>
          <line x1="110" y1="66" x2="110" y2="76" stroke="#D97706" stroke-width="1.5" opacity="0.8"/>
          <line x1="92" y1="58" x2="102" y2="58" stroke="#D97706" stroke-width="1.5" opacity="0.8"/>
          <line x1="118" y1="58" x2="128" y2="58" stroke="#D97706" stroke-width="1.5" opacity="0.8"/>
          <circle cx="110" cy="58" r="3" fill="#D97706" opacity="0.8"/>
          <text x="110" y="108" text-anchor="middle" fill="#e0e0e0" font-family="Inter, sans-serif" font-size="12" font-weight="500">Prospecting</text>

          <!-- Enrichment Node -->
          <rect x="255" y="20" width="160" height="120" rx="16" fill="#1a1a1a" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
          <rect x="255" y="20" width="160" height="120" rx="16" fill="url(#nodeGlow2)" opacity="0.3"/>
          <!-- Layers/database icon -->
          <ellipse cx="335" cy="48" rx="18" ry="7" stroke="#D97706" stroke-width="1.5" fill="none" opacity="0.8"/>
          <path d="M317 48 v10 c0 3.9 8 7 18 7 s18-3.1 18-7 v-10" stroke="#D97706" stroke-width="1.5" fill="none" opacity="0.8"/>
          <path d="M317 58 v10 c0 3.9 8 7 18 7 s18-3.1 18-7 v-10" stroke="#D97706" stroke-width="1.5" fill="none" opacity="0.8"/>
          <text x="335" y="108" text-anchor="middle" fill="#e0e0e0" font-family="Inter, sans-serif" font-size="12" font-weight="500">Enrichment</text>

          <!-- Content Node -->
          <rect x="480" y="20" width="160" height="120" rx="16" fill="#1a1a1a" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
          <rect x="480" y="20" width="160" height="120" rx="16" fill="url(#nodeGlow3)" opacity="0.3"/>
          <!-- Document icon -->
          <rect x="547" y="40" width="26" height="32" rx="3" stroke="#D97706" stroke-width="1.5" fill="none" opacity="0.8"/>
          <path d="M553 52 h14 M553 58 h14 M553 64 h8" stroke="#D97706" stroke-width="1.5" opacity="0.6" stroke-linecap="round"/>
          <path d="M547 40 h18 l8 8" stroke="#D97706" stroke-width="1.5" fill="none" opacity="0.8"/>
          <text x="560" y="108" text-anchor="middle" fill="#e0e0e0" font-family="Inter, sans-serif" font-size="12" font-weight="500">Content</text>

          <!-- Reporting Node -->
          <rect x="705" y="20" width="160" height="120" rx="16" fill="#1a1a1a" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
          <rect x="705" y="20" width="160" height="120" rx="16" fill="url(#nodeGlow4)" opacity="0.3"/>
          <!-- Bar chart icon -->
          <rect x="769" y="62" width="8" height="14" rx="1" fill="#D97706" opacity="0.6"/>
          <rect x="781" y="52" width="8" height="24" rx="1" fill="#D97706" opacity="0.7"/>
          <rect x="793" y="44" width="8" height="32" rx="1" fill="#D97706" opacity="0.8"/>
          <line x1="765" y1="76" x2="805" y2="76" stroke="#D97706" stroke-width="1.5" opacity="0.5"/>
          <text x="785" y="108" text-anchor="middle" fill="#e0e0e0" font-family="Inter, sans-serif" font-size="12" font-weight="500">Reporting</text>

          <!-- Gradient definitions -->
          <defs>
            <linearGradient id="lineGrad" x1="0" y1="0" x2="1" y2="0">
              <stop offset="0%" stop-color="#D97706" stop-opacity="0.3"/>
              <stop offset="100%" stop-color="#D97706" stop-opacity="0.8"/>
            </linearGradient>
            <radialGradient id="nodeGlow1" cx="50%" cy="50%" r="50%">
              <stop offset="0%" stop-color="#D97706" stop-opacity="0.15"/>
              <stop offset="100%" stop-color="transparent" stop-opacity="0"/>
            </radialGradient>
            <radialGradient id="nodeGlow2" cx="50%" cy="50%" r="50%">
              <stop offset="0%" stop-color="#3B82F6" stop-opacity="0.1"/>
              <stop offset="100%" stop-color="transparent" stop-opacity="0"/>
            </radialGradient>
            <radialGradient id="nodeGlow3" cx="50%" cy="50%" r="50%">
              <stop offset="0%" stop-color="#10B981" stop-opacity="0.1"/>
              <stop offset="100%" stop-color="transparent" stop-opacity="0"/>
            </radialGradient>
            <radialGradient id="nodeGlow4" cx="50%" cy="50%" r="50%">
              <stop offset="0%" stop-color="#8B5CF6" stop-opacity="0.1"/>
              <stop offset="100%" stop-color="transparent" stop-opacity="0"/>
            </radialGradient>
          </defs>
        </svg>
      </div>
    </div>
  </section>

  <!-- Gradient transition: dark to light -->
  <div class="h-24 bg-gradient-to-b from-dark to-cream" style="background: linear-gradient(to bottom, var(--color-dark), var(--color-cream));"></div>

  <!-- Agent Sections: Full-width alternating layout -->
  {agents.map((agent, i) => (
    <>
      <section
        id={agent.layer.toLowerCase()}
        class:list={[
          "relative overflow-hidden scroll-mt-20",
          i % 2 === 0 ? "bg-cream" : "section-dark bg-mesh-dark",
        ]}
      >
        {/* Decorative orb */}
        <div
          class="gradient-orb"
          style={`width: 400px; height: 400px; ${i % 2 === 0 ? 'top: -100px; right: -100px;' : 'bottom: -100px; left: -100px;'}`}
        ></div>

        <div class="container-wide relative z-10 section-lg">
          <div class:list={["grid lg:grid-cols-2 gap-12 lg:gap-20 items-center"]}>

            {/* Text side */}
            <div class:list={["reveal-on-scroll", i % 2 !== 0 ? "lg:order-2" : ""]}>
              <div class="flex items-center gap-4 mb-6">
                <div class:list={[
                  "w-14 h-14 rounded-2xl flex items-center justify-center border",
                  i % 2 === 0 ? "bg-accent-light border-accent/20" : "bg-white/5 border-white/10",
                ]}>
                  {agent.layer === "Prospecting" && (
                    <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
                      <circle cx="14" cy="14" r="10" stroke="#D97706" stroke-width="1.5"/>
                      <circle cx="14" cy="14" r="5" stroke="#D97706" stroke-width="1.5"/>
                      <circle cx="14" cy="14" r="2" fill="#D97706"/>
                      <line x1="14" y1="0" x2="14" y2="6" stroke="#D97706" stroke-width="1.5"/>
                      <line x1="14" y1="22" x2="14" y2="28" stroke="#D97706" stroke-width="1.5"/>
                      <line x1="0" y1="14" x2="6" y2="14" stroke="#D97706" stroke-width="1.5"/>
                      <line x1="22" y1="14" x2="28" y2="14" stroke="#D97706" stroke-width="1.5"/>
                    </svg>
                  )}
                  {agent.layer === "Enrichment" && (
                    <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
                      <ellipse cx="14" cy="8" rx="11" ry="5" stroke="#D97706" stroke-width="1.5"/>
                      <path d="M3 8v6c0 2.8 4.9 5 11 5s11-2.2 11-5V8" stroke="#D97706" stroke-width="1.5"/>
                      <path d="M3 14v6c0 2.8 4.9 5 11 5s11-2.2 11-5v-6" stroke="#D97706" stroke-width="1.5"/>
                    </svg>
                  )}
                  {agent.layer === "Content" && (
                    <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
                      <rect x="4" y="2" width="20" height="24" rx="3" stroke="#D97706" stroke-width="1.5"/>
                      <line x1="9" y1="9" x2="19" y2="9" stroke="#D97706" stroke-width="1.5" stroke-linecap="round"/>
                      <line x1="9" y1="14" x2="19" y2="14" stroke="#D97706" stroke-width="1.5" stroke-linecap="round"/>
                      <line x1="9" y1="19" x2="15" y2="19" stroke="#D97706" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                  )}
                  {agent.layer === "Reporting" && (
                    <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
                      <rect x="3" y="16" width="5" height="10" rx="1" fill="#D97706" opacity="0.6"/>
                      <rect x="11.5" y="10" width="5" height="16" rx="1" fill="#D97706" opacity="0.75"/>
                      <rect x="20" y="4" width="5" height="22" rx="1" fill="#D97706" opacity="0.9"/>
                      <line x1="1" y1="26" x2="27" y2="26" stroke="#D97706" stroke-width="1.5"/>
                    </svg>
                  )}
                </div>
                <div>
                  <p class="text-label">Layer {agent.number}</p>
                  <h2 class="text-display-sm">{agent.layer}</h2>
                </div>
              </div>

              <p class="text-lg italic mb-4" style="color: var(--color-accent);">
                "{agent.tagline}"
              </p>

              <p class:list={["text-lg leading-relaxed mb-8", i % 2 === 0 ? "text-ink-light" : ""]} style={i % 2 !== 0 ? "color: #b0b0b0;" : ""}>
                {agent.description}
              </p>

              <div class="flex flex-wrap gap-2">
                {agent.tools.map((tool) => (
                  <span class:list={[
                    "inline-flex items-center px-3 py-1.5 rounded-lg font-mono text-xs border",
                    i % 2 === 0
                      ? "badge-accent"
                      : "bg-white/5 border-white/10 text-cream/80",
                  ]}>
                    {tool}
                  </span>
                ))}
              </div>
            </div>

            {/* Use cases card side — gradient border technique: outer div with gradient bg + 1px padding, inner div with actual bg */}
            <div class:list={["reveal-on-scroll", i % 2 !== 0 ? "lg:order-1" : ""]}>
              <div
                class="rounded-2xl p-px"
                style={i % 2 === 0
                  ? "background: linear-gradient(135deg, var(--color-accent), #F59E0B, var(--color-border));"
                  : "background: linear-gradient(135deg, rgba(217,119,6,0.4), rgba(245,158,11,0.2), var(--color-dark-border));"
                }
              >
                <div class:list={[
                  "rounded-2xl p-8",
                  i % 2 === 0 ? "bg-cream" : "bg-dark-surface",
                ]} style={i % 2 !== 0 ? "background: var(--color-dark-surface);" : ""}>
                  <h3 class="text-label mb-6">What it does</h3>
                  <ul class="space-y-4">
                    {agent.useCases.map((useCase) => (
                      <li class="flex items-start gap-4">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-accent/10 flex items-center justify-center mt-0.5">
                          <span class="w-1.5 h-1.5 rounded-full bg-accent"></span>
                        </span>
                        <span class:list={["text-base leading-relaxed", i % 2 === 0 ? "text-ink-light" : ""]} style={i % 2 !== 0 ? "color: #b0b0b0;" : ""}>
                          {useCase}
                        </span>
                      </li>
                    ))}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Gradient transition divider between sections */}
      {i < agents.length - 1 && (
        <div
          class="h-20 md:h-24"
          style={i % 2 === 0
            ? "background: linear-gradient(to bottom, var(--color-cream), var(--color-dark));"
            : "background: linear-gradient(to bottom, var(--color-dark), var(--color-cream));"
          }
        ></div>
      )}
    </>
  ))}

  <!-- Gradient transition: light to dark for CTA -->
  <div class="h-20 md:h-24" style="background: linear-gradient(to bottom, var(--color-cream), var(--color-dark));"></div>

  <!-- CTA Section -->
  <section class="section-dark bg-mesh-dark relative overflow-hidden">
    <div class="gradient-orb-lg" style="width: 500px; height: 500px; top: -150px; left: 50%; transform: translateX(-50%);"></div>
    <div class="container-md relative z-10 section text-center">
      <div class="reveal-on-scroll">
        <div class="section-separator-accent mx-auto mb-8"></div>
        <h2 class="text-display-sm mb-6">
          Ready to deploy<br />
          <span class="text-gradient">your own agents?</span>
        </h2>
        <p class="text-lg max-w-lg mx-auto mb-10" style="color: #b0b0b0;">
          I share step-by-step deployment guides, tool comparisons, and real agent logs every week in the Agentic Ops newsletter.
        </p>
        <div class="max-w-md mx-auto">
          <div class="rounded-2xl p-px" style="background: linear-gradient(135deg, rgba(217,119,6,0.4), rgba(245,158,11,0.2), var(--color-dark-border));">
            <div class="rounded-2xl p-6" style="background: var(--color-dark-surface);">
              <div class="flex flex-col sm:flex-row gap-3">
                <input
                  type="email"
                  placeholder="you@company.com"
                  class="flex-1 px-4 py-3 border border-white/10 rounded-lg text-sm text-cream focus:outline-none focus:border-accent focus:ring-1 focus:ring-accent transition-colors"
                  style="background: var(--color-dark);"
                />
                <button class="btn btn-gradient btn-glow">
                  Subscribe
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
